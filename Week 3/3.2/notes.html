<!-- fetch basically represents how can you send http requests from real websites  -->

<!-- browsers expose a function called fetch which as the name suggests lets you fetch data from backend which by default sends a get request -->

<!-- until now we have sent requests in 2 ways- either using postman or using the browser url bar -->

<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>replit</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
</head>

<body>
  <script>
    // function getUserData() {
    //   const response = fetch("https://fakerapi.it/api/v1/persons").then(function(response){
    //     response.json().then(function(finalData){
    //       console.log(finalData);
    //     })
    //   });
    // }

    async function getUserData() {
      // axios library in a single call gives you back the json
      const response = axios.get("https://fakerapi.it/api/v1/persons")
      // but the fetch api expects if you're expecting json data then call this function response.json and async function await on it, that's how you get the data
      const response = await fetch("https://fakerapi.it/api/v1/persons");
      const finalData = await response.json();
      // console.log(finalData);
      document.getElementById("userData").innerHTML = JSON.stringify(finalData)

      // you don't have to have a call this function on a button click
      // anytime the page is loaded I'm just going to call the function
      // getUserData();
    }
  </script>
  <div id="userData"></div>
  <button onclick="getUserData()">Get user data</button>
</body>

</html>